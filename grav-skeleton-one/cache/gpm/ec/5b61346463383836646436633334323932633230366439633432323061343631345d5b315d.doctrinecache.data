1643296778
s:17770:"{"version":"1.7.28","date":"2022-01-24T18:41:16Z","assets":{"grav-admin":{"name":"grav-admin-v1.7.28.zip","type":"binary\/octet-stream","size":18615880,"download":"https:\/\/getgrav.org\/download\/core\/grav-admin\/1.7.28"},"grav-update":{"name":"grav-update-v1.7.28.zip","type":"binary\/octet-stream","size":9106794,"download":"https:\/\/getgrav.org\/download\/core\/grav-update\/1.7.28"},"grav":{"name":"grav-v1.7.28.zip","type":"binary\/octet-stream","size":11282956,"download":"https:\/\/getgrav.org\/download\/core\/grav\/1.7.28"}},"url":"https:\/\/github.com\/getgrav\/grav\/releases\/tag\/1.7.28","min_php":"7.1.3","changelog":{"1.7.28":{"date":"01\/24\/2022","content":"1. [](#new)\n    * Added links and modules support to `HtmlBlock` class\n    * Added module support for twig script tag: `{% script module 'theme:\/\/js\/module.mjs' %}`\n    * Added twig tag for links: `{% link icon 'theme:\/\/images\/favicon.png' priority: 20 with { type: 'image\/png' } %}`\n    * Added `HtmlBlock` support for `{% style %}`, `{% script %}` and `{% link %}` tags\n    * Support for page-level `redirect_default_route` frontmatter header override\n3. [](#bugfix)\n    * Fixed XSS check not detecting escaped `&#58`"},"1.7.27.1":{"date":"01\/12\/2022","content":"3. [](#bugfix)\n   * Fixed a typo in CSS Asset pipeline that was erroneously joining files with `;`"},"1.7.27":{"date":"01\/12\/2022","content":"1. [](#new)\n   * Support for `YubiKey OTP` 2-Factor authenticator\n   * Added support for generic `assets.link()` for external references. No pipeline support\n   * Added support for `assets.addJsModule()` with full pipeline support\n   * Added `Utils::getExtensionsByMime()` method to get all the registered extensions for the specific mime type\n   * Added `Media::getRoute()` and `Media::getRawRoute()` methods to get page route if available\n   * Added `Medium::getAlternatives()` to be able to list all the retina sizes\n2. [](#improved)\n   * Improved `Utils::download()` method to allow overrides on download name, mime and expires header\n   * Improved `onPageFallBackUrl` event\n   * Reorganized the Asset system configuration blueprint for clarity\n3. [](#bugfix)\n   * Fixed CLI `--env` and `--lang` options having no effect if they aren't added before all the other options\n   * Fixed scaled image medium filename when using non-existing retina file\n   * Fixed an issue with JS `imports` and pipelining Assets"},"1.7.26.1":{"date":"01\/04\/2022","content":"3. [](#bugfix)\n   * Fixed `UserObject::getAccess()` after cloning the object"},"1.7.26":{"date":"01\/03\/2022","content":"1. [](#new)\n    * Made `Grav::redirect()` to accept `Route` class\n    * Added `translated()` method to `PageTranslateInterface`\n    * Added second parameter to `UserObject::isMyself()` method\n    * Added `UserObject::$isAuthorizedCallable` to allow `$user->isAuthorized()` customization\n    * Use secure session cookies in HTTPS by default (`system.session.secure_https: true`)\n    * Added new `Plugin::inheritedConfigOption()` function to access plugin specific functions for page overrides\n2. [](#improved)\n   * Upgraded vendor libs for PHP 8.1 compatibility\n   * Upgraded to **composer v2.1.14** for PHP 8.1 compatibility\n   * Added third `$name` parameter to `Blueprint::flattenData()` method, useful for flattening repeating data\n   * `ControllerResponseTrait`: Redirect response should be json if the extension is .json\n   * When symlinking Grav install, include also tests\n   * Updated copyright year to `2022`\n3. [](#bugfix)\n   * Fixed bad key lookup in `FlexRelatedDirectoryTrait::getCollectionByProperty()`\n   * Fixed RequestHandlers `NotFoundException` having empty request\n   * Block `.json` files in web server configs\n   * Disabled pretty debug info for Flex as it slows down Twig rendering\n   * Fixed Twig being very slow when template overrides do not exist\n   * Fixed `UserObject::$authorizeCallable` binding to the user object\n   * Fixed `FlexIndex::call()` to return null instead of failing to call undefined method\n   * Fixed Flex directory configuration creating environment configuration when it should not"},"1.7.25":{"date":"11\/16\/2021","content":"1. [](#new)\n    * Updated phpstan to v1.0\n    * Added `FlexObject::getDiff()` to see difference to the saved object\n2. [](#improved)\n    * Use Symfony `dump` instead of PHP's `vardump` in side the `{{ vardump(x) }}` Twig vardump function\n    * Added `route` and `request` to `onPagesInitialized` event\n    * Improved page cloning, added method `Page::initialize()`\n    * Improved `FlexObject::getChanges()`: return changed lists and arrays as whole instead of just changed keys\/values\n    * Improved form validation JSON responses to contain list of failed fields with their error messages\n    * Improved redirects: send redirect response in JSON if the request was in JSON\n3. [](#bugfix)\n    * Fixed path traversal vulnerability when using `bin\/grav server`\n    * Fixed unescaped error messages in JSON error responses\n    * Fixed `|t(variable)` twig filter in admin\n    * Fixed `FlexObject::getChanges()` always returning empty array\n    * Fixed form validation exceptions to use `400 Bad Request` instead of `500 Internal Server Error`"},"1.7.24":{"date":"10\/26\/2021","content":"1. [](#new)\n    * Added support for image watermarks\n    * Added support to disable a form, making it readonly\n2. [](#improved)\n    * Flex `$user->authorize()` now checks user groups before `admin.super`, allowing deny rules to work properly\n3. [](#bugfix)\n    * Fixed a bug in `PermissionsReader` in PHP 7.3\n    * Fixed `session_store_active` language option (#3464)\n    * Fixed deprecated warnings on `ArrayAccess` in PHP 8.1\n    * Fixed XSS detection with `&colon;`"},"1.7.23":{"date":"09\/29\/2021","content":"1. [](#new)\n    * Added method `Pages::referrerRoute()` to get the referrer route and language\n    * Added true unique `Utils::uniqueId()` \/ `{{ unique_id() }}` utilities  with length, prefix, and suffix support\n    * Added `UserObject::isMyself()` method to check if flex user is currently logged in\n    * Added support for custom form field options validation with `validate: options: key|ignore`\n2. [](#improved)\n   * Replaced GPL `SVG-Sanitizer` with MIT licensed `DOM-Sanitizer`\n   * `Uri::referrer()` now accepts third parameter, if set to `true`, it returns route without base or language code [#3411](https:\/\/github.com\/getgrav\/grav\/issues\/3411)\n   * Updated vendor libs with latest\n   * Updated with latest language strings via Crowdin.com\n3. [](#bugfix)\n    * Fixed `Folder::move()` throwing an error when target folder is changed by only appending characters to the end [#3445](https:\/\/github.com\/getgrav\/grav\/issues\/3445)\n    * Fixed some phpstan issues (all code back to level 1, Framework level 3)\n    * Fixed form reset causing image uploads to fail when using Flex"},"1.7.22":{"date":"09\/16\/2021","content":"1. [](#new)\n    * Register plugin autoloaders into plugin objects\n2. [](#improved)\n    * Improve Twig 2 compatibility\n    * Update to customized version of Twig DeferredExtension (Twig 1\/2 compatible)\n3. [](#bugfix)\n    * Fixed conflicting `$_original` variable in `Flex Pages`"},"1.7.21":{"date":"09\/14\/2021","content":"1. [](#new)\n    * Added `|yaml` filter to convert input to YAML\n    * Added `route` and `request` to `onPageNotFound` event\n    * Added file upload\/remove support for `Flex Forms`\n    * Added support for `flex-required@: not exists` and `flex-required@: '!exists'` in blueprints\n    * Added `$object->getOriginalData()` to get flex objects data before it was modified with `update()`\n    * Throwing exceptions from Twig templates fires `onDisplayErrorPage.[code]` event allowing better error pages\n2. [](#improved)\n    * Use a simplified text-based `cron` field for scheduler\n    * Add timestamp to logging output of scheduler jobs to see when they ran\n3. [](#bugfix)\n    * Fixed escaping in PageIndex::getLevelListing()\n    * Fixed validation of `number` type [#3433](https:\/\/github.com\/getgrav\/grav\/issues\/3433)\n    * Fixed excessive `security.yaml` file creation [#3432](https:\/\/github.com\/getgrav\/grav\/issues\/3432)\n    * Fixed incorrect port :0 with nginx unix socket setup [#3439](https:\/\/github.com\/getgrav\/grav\/issues\/3439)\n    * Fixed `Session::setFlashCookieObject()` to use the same options as the main session cookie"},"1.7.20":{"date":"09\/01\/2021","content":"2. [](#improved)\n    * Added support for `task` and `action` inside JSON request body"},"1.7.19":{"date":"08\/31\/2021","content":"1. [](#new)\n    * Include active form and request in `onPageTask` and `onPageAction` events (defaults to `null`)\n    * Added `UserObject::$authorizeCallable` to allow `$user->authorize()` customization\n2. [](#improved)\n    * Added meta support for `UploadedFile` class\n    * Added support for multiple mime-types per file extension [#3422](https:\/\/github.com\/getgrav\/grav\/issues\/3422)\n    * Added `setCurrent()` method to Page Collection [#3398](https:\/\/github.com\/getgrav\/grav\/pull\/3398)\n    * Initialize `$grav['uri']` before session\n3. [](#bugfix)\n    * Fixed `Warning: Undefined array key \"SERVER_SOFTWARE\" in index.php` [#3408](https:\/\/github.com\/getgrav\/grav\/issues\/3408)\n    * Fixed error in `loadDirectoryConfig()` if configuration hasn't been saved [#3409](https:\/\/github.com\/getgrav\/grav\/issues\/3409)\n    * Fixed GPM not using non-standard cache path [#3410](https:\/\/github.com\/getgrav\/grav\/issues\/3410)\n    * Fixed broken `environment:\/\/` stream when it doesn't have configuration\n    * Fixed `Flex Object` missing key field value when using `FolderStorage`\n    * Fixed broken Twig try tag when catch has not been defined or is empty\n    * Fixed `FlexForm` serialization\n    * Fixed form validation for numeric values in PHP 8\n    * Fixed `flex-options@` in blueprints duplicating items in array\n    * Fixed wrong form issue with flex objects after cache clear\n    * Fixed Flex object types not implementing `MediaInterface`\n    * Fixed issue with `svgImageFunction()` that was causing broken output"},"1.7.18":{"date":"07\/19\/2021","content":"1. [](#improved)\n    * Added support for loading Flex Directory configuration from main configuration\n    * Move SVGs that cannot be sanitized to quarantine folder under `log:\/\/quarantine`\n    * Added support for CloudFlare-forwarded client IP in the `URI::ip()` method\n1. [](#bugfix)\n    * Fixed error when using Flex `SimpleStorage` with no entries\n    * Fixed page search to include slug field [#3316](https:\/\/github.com\/getgrav\/grav\/issues\/3316)\n    * Fixed Admin becoming unusable when GPM cannot be reached [#3383](https:\/\/github.com\/getgrav\/grav\/issues\/3383)\n    * Fixed `Failed to save entry: Forbidden` when moving a page to a visible page [#3389](https:\/\/github.com\/getgrav\/grav\/issues\/3389)\n    * Better support for Symfony local server on linux [#3400](https:\/\/github.com\/getgrav\/grav\/pull\/3400)\n    * Fixed `open_basedir()` error with some forms"},"1.7.17":{"date":"06\/15\/2021","content":"1. [](#new)\n    * Interface `FlexDirectoryInterface` now extends `FlexAuthorizeInterface`\n1. [](#improved)\n    * Allow to unset an asset attribute by specifying null (ie, `'defer': null`)\n    * Support specifying custom attributes to assets in a collection [Read more](https:\/\/learn.getgrav.org\/17\/themes\/asset-manager#collections-with-attributes?target=_blank) [#3358](https:\/\/github.com\/getgrav\/grav\/issues\/3358)\n    * File `frontmatter.yaml` isn't part of media, ignore it\n    * Switched default `JQuery` collection to use 3.x rather than 2.x\n1. [](#bugfix)\n    * Fixed missing styles when CSS\/JS Pipeline is used and `asset:\/\/` folder is missing\n    * Fixed permission check when moving a page [#3382](https:\/\/github.com\/getgrav\/grav\/issues\/3382)"},"1.7.16":{"date":"06\/02\/2021","content":"1. [](#new)\n    * Added 'addFrame()' method to ImageMedium [#3323](https:\/\/github.com\/getgrav\/grav\/pull\/3323)\n1. [](#improved)\n    * Set `cache.clear_images_by_default` to `false` by default\n    * Improve error on bad nested form data [#3364](https:\/\/github.com\/getgrav\/grav\/issues\/3364)\n1. [](#bugfix)\n    * Improve Plugin and Theme initialization to fix PHP8 bug [#3368](https:\/\/github.com\/getgrav\/grav\/issues\/3368)\n    * Fixed `pathinfo()` twig filter in PHP7\n    * Fixed the first visible child page getting ordering number `999999.` [#3365](https:\/\/github.com\/getgrav\/grav\/issues\/3365)\n    * Fixed flex pages search using only folder name [#3316](https:\/\/github.com\/getgrav\/grav\/issues\/3316)\n    * Fixed flex pages using wrong type in `onBlueprintCreated` event [#3157](https:\/\/github.com\/getgrav\/grav\/issues\/3157)\n    * Fixed wrong SRI paths invoked when Grav instance as a sub folder [#3358](https:\/\/github.com\/getgrav\/grav\/issues\/3358)\n    * Fixed SRI trying to calculate remote assets, only ever set integrity for local files. Use the SRI provided by the remote source and manually add it in the `addJs\/addCss` call for remote support. [#3358](https:\/\/github.com\/getgrav\/grav\/issues\/3358)\n    * Fix for weird regex issue with latest PHP versions on Intel Macs causing params to not parse properly in URI object"},"1.7.15":{"date":"05\/19\/2021","content":"1. [](#improved)\n    * Allow optional start date in page collections [#3350](https:\/\/github.com\/getgrav\/grav\/pull\/3350)\n    * Added `page` and `output` properties to `onOutputGenerated` and `onOutputRendered` events\n1. [](#bugfix)\n    * Fixed twig deprecated TwigFilter messages [#3348](https:\/\/github.com\/getgrav\/grav\/issues\/3348)\n    * Fixed fatal error with some markdown links [getgrav\/grav-premium-issues#95](https:\/\/github.com\/getgrav\/grav-premium-issues\/issues\/95)\n    * Fixed markdown media operations not working when using `image:\/\/` stream [#3333](https:\/\/github.com\/getgrav\/grav\/issues\/3333) [#3349](https:\/\/github.com\/getgrav\/grav\/issues\/3349)\n    * Fixed copying page without changing the slug [getgrav\/grav-plugin-admin#2135](https:\/\/github.com\/getgrav\/grav-plugin-admin\/issues\/2139)\n    * Fixed missing and commonly used methods when using `system.twig.undefined_functions = false` [getgrav\/grav-plugin-admin#2138](https:\/\/github.com\/getgrav\/grav-plugin-admin\/issues\/2138)\n    * Fixed uploading images into Flex Object if field destination is not set"},"1.7.14":{"date":"04\/29\/2021","content":"1. [](#new)\n    * Added `MediaUploadTrait::checkFileMetadata()` method\n1. [](#improved)\n    * Updating a theme should always keep the custom files [getgrav\/grav-plugin-admin#2135](https:\/\/github.com\/getgrav\/grav-plugin-admin\/issues\/2135)\n1. [](#bugfix)\n    * Fixed broken numeric language codes in Flex Pages [#3332](https:\/\/github.com\/getgrav\/grav\/issues\/3332)\n    * Fixed broken `exif_imagetype()` twig function"},"1.7.13":{"date":"04\/23\/2021","content":"1. [](#new)\n    * Added support for getting translated collection of Flex Pages using `$collection->withTranslated('de')`\n1. [](#improved)\n    * Moved `gregwar\/Image` and `gregwar\/Cache` in-house to official `getgrav\/Image` and `getgrav\/Cache` packagist packages. This will help environments with very strict proxy setups that don't allow VCS setup. [#3289](https:\/\/github.com\/getgrav\/grav\/issues\/3289)\n    * Improved XSS Invalid Protocol detection regex [#3298](https:\/\/github.com\/getgrav\/grav\/issues\/3298)\n    * Added support for user provided folder in Flex `$page->copy()`\n1. [](#bugfix)\n    * Fixed `The \"Grav\/Common\/Twig\/TwigExtension\" extension is not enabled` when using markdown twig tag [#3317](https:\/\/github.com\/getgrav\/grav\/issues\/3317)\n    * Fixed text field maxlength validation newline issue [#3324](https:\/\/github.com\/getgrav\/grav\/issues\/3324)\n    * Fixed a bug in Flex Object `refresh()` method"},"1.7.12":{"date":"04\/15\/2021","content":"1. [](#improved)\n    * Improve JSON support for the request\n1. [](#bugfix)\n    * Fixed absolute path support for Windows [#3297](https:\/\/github.com\/getgrav\/grav\/issues\/3297)\n    * Fixed adding tags in admin after upgrading Grav [#3315](https:\/\/github.com\/getgrav\/grav\/issues\/3315)"},"1.7.11":{"date":"04\/13\/2021","content":"1. [](#new)\n    * Added configuration options to allow PHP methods to be used in Twig functions (`system.twig.safe_functions`) and filters (`system.twig.safe_filters`)\n    * Deprecated using PHP methods in Twig without them being in the safe lists\n    * Prevent dangerous PHP methods from being used as Twig functions and filters\n    * Restrict filesystem Twig functions to accept only local filesystem and grav streams\n1. [](#improved)\n    * Better GPM detection of unauthorized installations\n1. [](#bugfix)\n  * **IMPORTANT** Fixed security vulnerability with Twig allowing dangerous PHP functions by default [GHSA-g8r4-p96j-xfxc](https:\/\/github.com\/getgrav\/grav\/security\/advisories\/GHSA-g8r4-p96j-xfxc)\n    * Fixed nxinx appending repeating `?_url=` in some redirects\n    * Fixed deleting page with language code not removing the folder if it was the last language [#3305](https:\/\/github.com\/getgrav\/grav\/issues\/3305)\n    * Fixed fatal error when using markdown links with `image:\/\/` stream [#3285](https:\/\/github.com\/getgrav\/grav\/issues\/3285)\n    * Fixed `system.languages.session_store_active` not having any effect [#3269](https:\/\/github.com\/getgrav\/grav\/issues\/3269)\n    * Fixed fatal error if `system.pages.types` is not an array [#2984](https:\/\/github.com\/getgrav\/grav\/issues\/2984)"}}}
";